<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI自媒体创造营日报馆</title>
    <style>
        /* 通用样式 */
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            color: #333;
            background-color: #f8f9fa;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* 卡片样式 */
        .card-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
        }
        
        .card h2 {
            margin-top: 0;
            color: #2c3e50;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        
        .card-content {
            padding: 10px 0;
        }
        
        /* 导航按钮 */
        .card-navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 20px 0;
        }
        
        .nav-button {
            display: flex;
            align-items: center;
            background-color: #3498db;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .nav-button:hover {
            background-color: #2980b9;
        }
        
        .nav-button:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
        }
        
        /* 指示点 */
        .card-indicator {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 10px;
        }
        
        .indicator-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: #ddd;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .indicator-dot.active {
            background-color: #3498db;
        }
        
        /* 对象和列表样式 */
        .object-props {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        
        ul.object-list, ul.tutorial-items {
            padding-left: 20px;
        }
        
        /* 错误内容样式 */
        .error-content {
            background-color: #ffeeee;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #ff6b6b;
        }
        
        .json-toggle-btn {
            background-color: #f0f0f0;
            border: 1px solid #ddd;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            margin: 10px 0;
        }
        
        /* 确保触摸事件支持的样式 */
        .card-container {
            touch-action: pan-y;
        }
    </style>
</head>
<body>
    <div class="container">
        <div id="reportContent" class="content-container"></div>
    </div>

    <script>
        // 在页面加载完成后执行
        document.addEventListener('DOMContentLoaded', function() {
            // 格式化字段名称为更友好的显示格式
            function formatFieldName(key) {
                // 将下划线和驼峰格式转换为空格分隔的标题格式
                let formatted = key
                    // 插入空格在小写后面跟大写的情况
                    .replace(/([a-z])([A-Z])/g, '$1 $2')
                    // 替换下划线和连字符为空格
                    .replace(/[_-]/g, ' ');
                
                // 首字母大写
                return formatted.charAt(0).toUpperCase() + formatted.slice(1);
            }
            
            // 安全地将对象转换为HTML显示，避免直接显示JSON代码
            function objectToHTML(obj) {
                if (!obj || typeof obj !== 'object') {
                    return String(obj || '');
                }
                
                // 处理数组
                if (Array.isArray(obj)) {
                    if (obj.length === 0) return '<i>(空数组)</i>';
                    
                    let html = '<ul class="object-list">';
                    obj.forEach(item => {
                        if (typeof item === 'string') {
                            html += `<li>${item}</li>`;
                        } else if (typeof item === 'object' && item !== null) {
                            // 递归处理
                            html += `<li>${objectToHTML(item)}</li>`;
                        } else {
                            html += `<li>${String(item)}</li>`;
                        }
                    });
                    html += '</ul>';
                    return html;
                }
                
                // 处理对象
                const keys = Object.keys(obj);
                if (keys.length === 0) return '<i>(空对象)</i>';
                
                let html = '<div class="object-props">';
                keys.forEach(key => {
                    const value = obj[key];
                    const formattedKey = formatFieldName(key);
                    
                    if (typeof value === 'string') {
                        html += `<div><strong>${formattedKey}:</strong> ${value}</div>`;
                    } else if (typeof value === 'object' && value !== null) {
                        html += `<div><strong>${formattedKey}:</strong> ${objectToHTML(value)}</div>`;
                    } else {
                        html += `<div><strong>${formattedKey}:</strong> ${String(value)}</div>`;
                    }
                });
                html += '</div>';
                
                return html;
            }
            
            // 从JSON section提取内容
            function extractSectionContent(section) {
                if (!section) return '';
                
                try {
                    // 如果有直接的content字段
                    if (section.content) {
                        return section.content;
                    }
                    
                    // 处理不同类型的内容
                    if (section.type === 'header') {
                        return `<h3>${section.content || ''}</h3>`;
                    } else if (section.type === 'paragraph') {
                        return `<p>${section.content || ''}</p>`;
                    } else if (section.type === 'tutorials_and_news' && section.subSections) {
                        // 教程和新闻特殊处理
                        let html = '<div class="tutorials-news">';
                        
                        if (Array.isArray(section.subSections)) {
                            section.subSections.forEach(subSection => {
                                if (subSection.subTitle) {
                                    html += `<h4>${subSection.subTitle}</h4>`;
                                }
                                
                                if (subSection.items && Array.isArray(subSection.items)) {
                                    html += '<ul class="tutorial-items">';
                                    subSection.items.forEach(item => {
                                        if (typeof item === 'string') {
                                            html += `<li>${item}</li>`;
                                        } else if (typeof item === 'object') {
                                            let itemHTML = '<li>';
                                            if (item.source) itemHTML += `<strong>${item.source}</strong>: `;
                                            if (item.description) itemHTML += item.description;
                                            
                                            // 处理链接
                                            if (item.link) {
                                                if (typeof item.link === 'string') {
                                                    itemHTML += ` <a href="${item.link}" target="_blank">链接</a>`;
                                                } else if (typeof item.link === 'object' && item.link.url) {
                                                    itemHTML += ` <a href="${item.link.url}" target="_blank">${item.link.text || '链接'}</a>`;
                                                }
                                            }
                                            
                                            itemHTML += '</li>';
                                            html += itemHTML;
                                        }
                                    });
                                    html += '</ul>';
                                }
                            });
                        }
                        
                        html += '</div>';
                        return html;
                    } else if (section.items && Array.isArray(section.items)) {
                        // 处理项目列表
                        let html = '<ul>';
                        section.items.forEach(item => {
                            if (typeof item === 'string') {
                                html += `<li>${item}</li>`;
                            } else if (typeof item === 'object') {
                                let itemHTML = '<li>';
                                
                                if (item.title) itemHTML += `<strong>${item.title}</strong>: `;
                                if (item.content) itemHTML += item.content;
                                if (item.summary) itemHTML += item.summary;
                                if (item.message) itemHTML += item.message;
                                if (item.source) itemHTML += `<strong>${item.source}</strong>: `;
                                if (item.description) itemHTML += item.description;
                                
                                itemHTML += '</li>';
                                html += itemHTML;
                            }
                        });
                        html += '</ul>';
                        return html;
                    }
                    
                    // 对于其他类型，提取有用信息
                    let contentHTML = '<div class="section-details">';
                    let hasContent = false;
                    
                    // 遍历所有字段，尝试提取有用内容
                    for (const key in section) {
                        if (key === 'type' || key === 'icon') continue;
                        
                        if (typeof section[key] === 'string') {
                            contentHTML += `<p><strong>${formatFieldName(key)}:</strong> ${section[key]}</p>`;
                            hasContent = true;
                        } else if (Array.isArray(section[key])) {
                            contentHTML += `<p><strong>${formatFieldName(key)}:</strong></p>`;
                            contentHTML += objectToHTML(section[key]);
                            hasContent = true;
                        } else if (typeof section[key] === 'object' && section[key] !== null) {
                            contentHTML += `<p><strong>${formatFieldName(key)}:</strong></p>`;
                            contentHTML += objectToHTML(section[key]);
                            hasContent = true;
                        }
                    }
                    
                    contentHTML += '</div>';
                    
                    if (hasContent) {
                        return contentHTML;
                    }
                    
                    // 如果没有提取到内容，返回格式化的HTML视图而不是原始JSON
                    return `<div class="formatted-content">
                        <p>内容概览：</p>
                        <div class="content-preview">${objectToHTML(section)}</div>
                    </div>`;
                } catch (error) {
                    console.error('处理部分内容时出错:', error);
                    return `<div class="error-content">
                        <p>处理内容时出错: ${error.message}</p>
                        <button onclick="toggleJsonSource(this)" class="json-toggle-btn">查看原始数据</button>
                        <pre style="display: none;">${JSON.stringify(section, null, 2)}</pre>
                    </div>`;
                }
            }
            
            // 切换JSON源代码显示/隐藏
            function toggleJsonSource(button) {
                const pre = button.nextElementSibling;
                if (pre.style.display === 'none') {
                    pre.style.display = 'block';
                    button.textContent = '隐藏JSON源代码';
                } else {
                    pre.style.display = 'none';
                    button.textContent = '查看JSON源代码';
                }
            }
            
            // 创建卡片视图
            function createCardView(container, jsonData) {
                // 存储所有部分
                let sections = [];
                
                // 检查是否有内容
                if (!container || !jsonData) {
                    console.error('容器或数据无效');
                    return;
                }
                
                // 解析内容
                const content = typeof jsonData === 'string' ? jsonData : JSON.stringify(jsonData);
                
                // 尝试解析为JSON
                let isJson = false;
                try {
                    if (typeof jsonData === 'string') {
                        jsonData = JSON.parse(content);
                    }
                    isJson = true;
                } catch (e) {
                    console.log('内容不是有效的JSON，将按HTML处理');
                    isJson = false;
                }
                
                // 处理内容
                if (isJson) {
                    // 处理JSON格式
                    if (jsonData.sections && Array.isArray(jsonData.sections)) {
                        // 处理sections数组
                        jsonData.sections.forEach(section => {
                            sections.push({
                                title: section.title || '未命名部分',
                                content: extractSectionContent(section)
                            });
                        });
                    } else if (jsonData.tutorials && jsonData.tutorials.length > 0) {
                        // 特殊处理教程部分
                        jsonData.tutorials.forEach(tutorial => {
                            sections.push({
                                title: tutorial.title || '教程',
                                content: extractSectionContent(tutorial)
                            });
                        });
                    } else if (jsonData.news && jsonData.news.length > 0) {
                        // 特殊处理新闻部分
                        jsonData.news.forEach(newsItem => {
                            sections.push({
                                title: newsItem.title || '新闻',
                                content: extractSectionContent(newsItem)
                            });
                        });
                    } else if (jsonData.type === 'tutorials_and_news' && jsonData.subSections) {
                        // 处理教程和新闻的特殊结构
                        let subContent = '';
                        
                        if (Array.isArray(jsonData.subSections)) {
                            jsonData.subSections.forEach(subSection => {
                                if (subSection.subTitle) {
                                    subContent += `<h4>${subSection.subTitle}</h4>`;
                                }
                                
                                // 处理项目列表
                                if (subSection.items && Array.isArray(subSection.items)) {
                                    subContent += '<ul>';
                                    subSection.items.forEach(item => {
                                        if (typeof item === 'string') {
                                            subContent += `<li>${item}</li>`;
                                        } else if (typeof item === 'object') {
                                            let itemContent = '';
                                            if (item.source) itemContent += `<strong>${item.source}</strong>: `;
                                            if (item.description) itemContent += item.description;
                                            
                                            // 处理链接
                                            if (item.link) {
                                                if (typeof item.link === 'string') {
                                                    itemContent += ` <a href="${item.link}" target="_blank">链接</a>`;
                                                } else if (typeof item.link === 'object') {
                                                    itemContent += ` <a href="${item.link.url || '#'}" target="_blank">${item.link.text || '链接'}</a>`;
                                                }
                                            }
                                            
                                            subContent += `<li>${itemContent}</li>`;
                                        }
                                    });
                                    subContent += '</ul>';
                                }
                                
                                sections.push({
                                    title: subSection.subTitle || '子部分',
                                    content: subContent
                                });
                            });
                        }
                    } else if (jsonData.content) {
                        // 处理单独的内容
                        sections.push({
                            title: '内容',
                            content: jsonData.content
                        });
                    } else {
                        // 对于其他未处理的结构，以卡片形式展示主要内容
                        for (const key in jsonData) {
                            if (key !== 'title' && key !== 'reportTitle' && key !== 'date' && key !== 'reportDate') {
                                if (typeof jsonData[key] === 'string') {
                                    sections.push({
                                        title: key.charAt(0).toUpperCase() + key.slice(1),
                                        content: jsonData[key]
                                    });
                                } else if (Array.isArray(jsonData[key])) {
                                    let itemsContent = '<ul>';
                                    jsonData[key].forEach(item => {
                                        if (typeof item === 'string') {
                                            itemsContent += `<li>${item}</li>`;
                                        } else if (typeof item === 'object') {
                                            itemsContent += `<li>${objectToHTML(item)}</li>`;
                                        }
                                    });
                                    itemsContent += '</ul>';
                                    
                                    sections.push({
                                        title: formatFieldName(key),
                                        content: itemsContent
                                    });
                                } else if (typeof jsonData[key] === 'object') {
                                    // 递归处理嵌套对象，使用objectToHTML
                                    sections.push({
                                        title: formatFieldName(key),
                                        content: objectToHTML(jsonData[key])
                                    });
                                }
                            }
                        }
                    }
                } else {
                    // 处理HTML内容
                    const tempDiv = document.createElement('div');
                    tempDiv.innerHTML = content;
                    
                    // 查找所有section元素
                    const sectionElements = tempDiv.querySelectorAll('.section');
                    if (sectionElements.length > 0) {
                        sectionElements.forEach(section => {
                            const titleEl = section.querySelector('h2');
                            const title = titleEl ? titleEl.textContent : '未命名部分';
                            
                            // 复制section内容，但移除h2标题
                            const sectionCopy = section.cloneNode(true);
                            const titleInCopy = sectionCopy.querySelector('h2');
                            if (titleInCopy) {
                                titleInCopy.remove();
                            }
                            
                            sections.push({
                                title: title,
                                content: sectionCopy.innerHTML
                            });
                        });
                    } else {
                        // 如果找不到section元素，尝试提取header
                        const header = tempDiv.querySelector('.header');
                        if (header) {
                            sections.push({
                                title: '标题',
                                content: header.innerHTML
                            });
                            
                            // 移除header后的其余内容
                            header.remove();
                            if (tempDiv.innerHTML.trim()) {
                                sections.push({
                                    title: '内容',
                                    content: tempDiv.innerHTML
                                });
                            }
                        } else {
                            // 没有结构，整体作为一个部分
                            sections.push({
                                title: '日报内容',
                                content: content
                            });
                        }
                    }
                }
                
                // 如果没有找到任何部分，显示默认信息
                if (sections.length === 0) {
                    sections.push({
                        title: '日报内容',
                        content: '未找到可分段的内容'
                    });
                }
                
                // 创建卡片
                const cardContainer = document.createElement('div');
                cardContainer.className = 'card-container';
                
                // 添加卡片内容
                sections.forEach((section, index) => {
                    const card = document.createElement('div');
                    card.className = 'card';
                    card.innerHTML = `
                        <h2>${section.title}</h2>
                        <div class="card-content">${section.content}</div>
                    `;
                    cardContainer.appendChild(card);
                });
                
                // 添加卡片导航
                const cardNavigation = document.createElement('div');
                cardNavigation.className = 'card-navigation';
                cardNavigation.innerHTML = `
                    <button class="nav-button prev-btn" ${sections.length <= 1 ? 'disabled' : ''}>
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M15 6L9 12L15 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        上一张
                    </button>
                    <div class="card-counter">1/${sections.length}</div>
                    <button class="nav-button next-btn" ${sections.length <= 1 ? 'disabled' : ''}>
                        下一张
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M9 6L15 12L9 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </button>
                `;
                
                // 添加指示点
                const cardIndicator = document.createElement('div');
                cardIndicator.className = 'card-indicator';
                
                for (let i = 0; i < sections.length; i++) {
                    const dot = document.createElement('div');
                    dot.className = i === 0 ? 'indicator-dot active' : 'indicator-dot';
                    dot.setAttribute('data-index', i);
                    cardIndicator.appendChild(dot);
                }
                
                // 添加元素到容器
                container.innerHTML = ''; // 清空容器
                container.appendChild(cardContainer);
                container.appendChild(cardNavigation);
                container.appendChild(cardIndicator);
                
                // 保存当前卡片索引
                container.setAttribute('data-current-card', '0');
                
                // 初始只显示第一张卡片
                const cards = cardContainer.querySelectorAll('.card');
                if (cards.length > 1) {
                    for (let i = 1; i < cards.length; i++) {
                        cards[i].style.display = 'none';
                    }
                }
                
                // 设置导航事件
                setupCardNavigation(container, sections.length);
            }
            
            // 设置卡片导航事件
            function setupCardNavigation(container, totalCards) {
                if (totalCards <= 1) return; // 只有一张卡片不需要导航
                
                const prevBtn = container.querySelector('.prev-btn');
                const nextBtn = container.querySelector('.next-btn');
                const indicators = container.querySelectorAll('.indicator-dot');
                const cardCounter = container.querySelector('.card-counter');
                
                // 上一张按钮点击事件
                prevBtn.addEventListener('click', function() {
                    navigateCards(container, -1, totalCards);
                });
                
                // 下一张按钮点击事件
                nextBtn.addEventListener('click', function() {
                    navigateCards(container, 1, totalCards);
                });
                
                // 指示点点击事件
                indicators.forEach(dot => {
                    dot.addEventListener('click', function() {
                        const targetIndex = parseInt(this.getAttribute('data-index'));
                        const currentIndex = parseInt(container.getAttribute('data-current-card'));
                        navigateToCard(container, targetIndex, currentIndex, totalCards);
                    });
                });
                
                // 添加触摸滑动支持
                const cardContainer = container.querySelector('.card-container');
                let touchStartX = 0;
                let touchEndX = 0;
                
                cardContainer.addEventListener('touchstart', function(e) {
                    touchStartX = e.changedTouches[0].screenX;
                }, { passive: true });
                
                cardContainer.addEventListener('touchend', function(e) {
                    touchEndX = e.changedTouches[0].screenX;
                    handleSwipe();
                }, { passive: true });
                
                function handleSwipe() {
                    const swipeThreshold = 50; // 滑动阈值
                    if (touchEndX < touchStartX - swipeThreshold) {
                        // 左滑 -> 下一张
                        navigateCards(container, 1, totalCards);
                    }
                    if (touchEndX > touchStartX + swipeThreshold) {
                        // 右滑 -> 上一张
                        navigateCards(container, -1, totalCards);
                    }
                }
            }
            
            // 根据偏移量导航卡片
            function navigateCards(container, offset, totalCards) {
                const currentIndex = parseInt(container.getAttribute('data-current-card'));
                // 计算新索引，确保循环导航
                const newIndex = (currentIndex + offset + totalCards) % totalCards;
                navigateToCard(container, newIndex, currentIndex, totalCards);
            }
            
            // 导航到特定卡片
            function navigateToCard(container, targetIndex, currentIndex, totalCards) {
                // 如果目标索引等于当前索引，不做任何操作
                if (targetIndex === currentIndex) return;
                
                const cards = container.querySelectorAll('.card');
                const indicators = container.querySelectorAll('.indicator-dot');
                const cardCounter = container.querySelector('.card-counter');
                
                // 隐藏当前卡片
                cards[currentIndex].style.display = 'none';
                indicators[currentIndex].classList.remove('active');
                
                // 显示目标卡片
                cards[targetIndex].style.display = 'block';
                indicators[targetIndex].classList.add('active');
                
                // 更新计数器
                cardCounter.textContent = `${targetIndex + 1}/${totalCards}`;
                
                // 更新当前卡片索引
                container.setAttribute('data-current-card', targetIndex);
            }
            
            // 确保日报HTML结构完整
            function ensureReportStructure() {
                const contentContainer = document.getElementById('reportContent');
                console.log('检查reportContent是否存在:', contentContainer ? '存在' : '不存在');
                
                if (!contentContainer) {
                    console.error('报告容器不存在，尝试创建容器元素');
                    
                    // 检查是否有main-content容器
                    const mainContent = document.querySelector('.main-content');
                    if (mainContent) {
                        console.log('找到main-content容器，在其中创建reportContent');
                        
                        // 创建报告容器
                        const newContentContainer = document.createElement('div');
                        newContentContainer.id = 'reportContent';
                        newContentContainer.className = 'content-container';
                        mainContent.appendChild(newContentContainer);
                        
                        console.log('已创建reportContent容器');
                        return true;
                    } else {
                        console.error('main-content容器不存在，无法创建HTML结构');
                        return false;
                    }
                }
                
                // 检查header结构
                let headerElement = contentContainer.querySelector('.header');
                if (!headerElement) {
                    // 创建header
                    headerElement = document.createElement('div');
                    headerElement.className = 'header';
                    
                    // 添加标题
                    const titleElement = document.createElement('h1');
                    titleElement.innerHTML = `
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v2h-2zm0 4h2v6h-2z"/></svg>
                        AI自媒体创造营 日报
                    `;
                    headerElement.appendChild(titleElement);
                    
                    // 添加日期
                    const dateElement = document.createElement('div');
                    dateElement.className = 'date';
                    dateElement.textContent = formatDate(new Date().toISOString().split('T')[0]);
                    headerElement.appendChild(dateElement);
                    
                    // 添加到容器的开头
                    if (contentContainer.firstChild) {
                        contentContainer.insertBefore(headerElement, contentContainer.firstChild);
                    } else {
                        contentContainer.appendChild(headerElement);
                    }
                    
                    console.log('已创建header结构');
                }
                
                // 确保日期元素存在
                if (!contentContainer.querySelector('.header .date')) {
                    const dateElement = document.createElement('div');
                    dateElement.className = 'date';
                    dateElement.textContent = formatDate(new Date().toISOString().split('T')[0]);
                    headerElement.appendChild(dateElement);
                    console.log('已创建日期元素');
                }
                
                console.log('日报HTML结构检查完成');
                return true;
            }
            
            // 格式化日期函数
            function formatDate(dateString) {
                const date = new Date(dateString);
                const year = date.getFullYear();
                const month = date.getMonth() + 1;
                const day = date.getDate();
                const weekdays = ['周日', '周一', '周二', '周三', '周四', '周五', '周六'];
                const weekday = weekdays[date.getDay()];
                
                return `${year}年${month}月${day}日 (${weekday})`;
            }
            
            // 示例函数 - 添加一个测试日报内容
            function showTestReport() {
                const container = document.getElementById('reportContent');
                if (!container) return;
                
                const testData = {
                    title: "测试日报",
                    date: "2023-04-01",
                    sections: [
                        {
                            title: "今日要闻",
                            type: "news",
                            items: [
                                "这是第一条新闻",
                                {
                                    source: "科技日报",
                                    description: "人工智能取得新突破",
                                    link: "https://example.com/news/1"
                                }
                            ]
                        },
                        {
                            title: "技术分享",
                            type: "tutorials_and_news",
                            subSections: [
                                {
                                    subTitle: "前端开发",
                                    items: [
                                        {
                                            source: "MDN",
                                            description: "JavaScript高级特性详解",
                                            link: {
                                                url: "https://example.com/js",
                                                text: "阅读全文"
                                            }
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                };
                
                // 创建卡片视图
                createCardView(container, testData);
            }
            
            // 初始化
            function initialize() {
                console.log('正在初始化应用...');
                // 确保HTML结构完整
                ensureReportStructure();
                // 显示测试内容
                showTestReport();
            }
            
            // 启动应用
            initialize();
        });
    </script>
</body>
</html>